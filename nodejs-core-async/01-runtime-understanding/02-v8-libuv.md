# V8 엔진, Libuv 역할

-   **설명:**
    -   **V8 엔진 (The JavaScript Brain):**
        -   **역할:** Google Chrome 브라우저를 위해 개발된 강력하고 빠른 오픈소스 JavaScript 및 WebAssembly 엔진입니다. Node.js는 이 V8 엔진을 사용하여 JavaScript 코드를 서버 환경에서 직접 실행합니다.
        -   **주요 작업:**
            1.  **파싱(Parsing):** JavaScript 코드를 V8이 이해할 수 있는 추상 구문 트리(AST)로 변환합니다.
            2.  **컴파일(Compilation):** AST를 바이트코드(Bytecode)로 변환하고, 실행 중 자주 사용되는 코드는 최적화된 머신 코드로 컴파일합니다 (JIT - Just-In-Time 컴파일). 이를 통해 실행 속도를 크게 향상시킵니다.
            3.  **실행(Execution):** 컴파일된 코드를 실행합니다.
            4.  **메모리 관리(Garbage Collection):** 더 이상 사용되지 않는 객체가 차지하는 메모리를 자동으로 회수하여 메모리 누수를 방지합니다.
        -   **핵심:** V8 덕분에 JavaScript가 브라우저 밖에서도 빠르고 효율적으로 동작할 수 있습니다.

    -   **Libuv (The Asynchronous I/O Workhorse):**
        -   **역할:** C 언어로 작성된 크로스 플랫폼 비동기 I/O 라이브러리입니다. Node.js의 핵심 철학인 논블로킹(Non-blocking) I/O 모델을 실제로 구현하는 역할을 담당합니다.
        -   **주요 기능 제공:**
            1.  **이벤트 루프(Event Loop):** Node.js의 이벤트 루프 자체를 구현하고 관리합니다. (이전 `01-event-loop.md`에서 설명된 그 이벤트 루프입니다!)
            2.  **비동기 I/O 작업:** 파일 시스템 작업(읽기/쓰기), 네트워킹(HTTP 요청, TCP/UDP 소켓), DNS 쿼리 등 운영체제 수준의 비동기 작업을 처리합니다.
                -   운영체제가 지원하는 비동기 API(예: Linux의 epoll, macOS/BSD의 kqueue, Windows의 IOCP)를 최대한 활용합니다.
                -   운영체제에서 비동기적으로 지원하지 않거나, 블로킹 방식으로만 제공되는 일부 작업(예: 특정 파일 시스템 연산, `crypto` 모듈의 일부 함수, DNS `lookup`)은 내부적으로 **스레드 풀(Thread Pool)**을 사용하여 처리함으로써 메인 스레드가 블로킹되는 것을 방지합니다.
            3.  **타이머(Timers):** `setTimeout`, `setInterval`과 같은 타이머 기능을 관리합니다.
            4.  **자식 프로세스(Child Processes):** 새로운 프로세스를 생성하고 관리하는 기능을 제공합니다.
            5.  **기타 유틸리티:** 스레딩, 동기화 프리미티브 등.
        -   **핵심:** Libuv가 없다면 Node.js는 비동기 I/O를 효율적으로 처리할 수 없으며, 단일 스레드임에도 높은 동시성을 가질 수 없습니다.

-   **학습 목표:**
    -   V8 엔진이 JavaScript 코드를 파싱, 컴파일, 실행하고 메모리를 관리하는 핵심적인 역할을 수행함을 설명할 수 있습니다.
    -   Libuv가 Node.js에 이벤트 루프, 비동기 I/O 처리(OS 비동기 API 및 스레드 풀 활용 포함), 타이머 등의 핵심 기능을 제공함을 설명할 수 있습니다.
    -   Node.js 애플리케이션에서 JavaScript 코드가 V8에 의해 실행되다가 비동기 I/O 작업이 발생하면 Libuv로 전달되고, 작업 완료 후 콜백이 이벤트 루프를 통해 다시 V8에서 실행되는 전체적인 흐름을 이해합니다.
    -   V8은 "무엇을" 실행할지(JavaScript 로직)에 집중하고, Libuv는 "어떻게" 외부 작업(I/O 등)을 효율적으로 처리하고 그 결과를 다시 JavaScript로 전달할지에 집중한다는 역할 분담을 이해합니다.